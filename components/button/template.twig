{%- set htmlClasses = 'sb-button' %}
{%- if params.classes %}
	{% set htmlClasses = htmlClasses ~ ' ' ~ params.classes %}
{% endif %}

{%- set commonAttributes %}
    data-module="sb-button"
    class="{{ htmlClasses }}"
    {%- if params.appearance %} data-appearance="{{ params.appearance }}"{% endif %}
    {%- if params.layout %} data-layout="{{ params.layout }}"{% endif %}
    {%- if params.busy %} aria-busy="true"{% endif %}
    {%- for attribute, value in params.attributes %} {{ attribute }}="{{ value }}"{% endfor %}
{% endset %}

{%- set buttonContent %}
    <span class="sb-button__label">{{ params.html }}</span>
{% endset %}

{%- if params.href %}
<a
    {{- commonAttributes }}
    href="{{ params.href }}"
    >
    {{- buttonContent -}}
</a>
{%- else %}
<button
    {{- commonAttributes }}
    type="{% if params.type %}{{ params.type }}{% else %}submit{% endif %}"
    {%- if params.name %} name="{{ params.name }}"{% endif %}
    {%- if params.value %} value="{{ params.value }}"{% endif %}
    {%- if params.disabled %} disabled{% endif %}
    >
    {{- buttonContent -}}
</button>
{%- endif %}