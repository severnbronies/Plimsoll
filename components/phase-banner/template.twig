{% from "@components/prose/macro.twig" import sbProse %}

{% set summary %}
    <div class="sb-phase-banner__summary">
        <strong class="sb-phase-banner__summary-heading">
            {{- params.heading -}}
        </strong>
        {%- if params.subheading %}
            <span class="sb-phase-banner__summary-subheading">
                {{- params.subheading -}}
            </span>
        {%- endif %}
    </div>
{% endset %}

{%- if params.heading %}
    <div data-module="sb-phase-banner"
        class="sb-phase-banner {%- if params.html %} sb-phase-banner--interactive{% endif %} {%- if params.classes %} {{ params.classes }}{% endif %}"
        {%- for attribute, value in params.attributes %} {{ attribute }}="{{ value }}"{% endfor %}>
        {%- if params.html %}
            <details
                class="sb-phase-banner__inner"
                {%- if params.open %} open{% endif %}>
                <summary>
                    {{ summary }}
                </summary>
                <div class="sb-phase-banner__body">
                    {{ sbProse({
                        html: params.html
                    }) }}
                </div>
            </details>
        {%- else %}
            <div class="sb-phase-banner__inner">
                {{ summary }}
            </div>
        {%- endif %}
    </div>
{%- endif %}